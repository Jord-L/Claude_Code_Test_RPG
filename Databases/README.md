# Database Structure Documentation

This directory contains all game data organized in a hierarchical JSON-based system.

## Directory Structure

```
Database/
├── index.json                  # Master database registry
├── DevilFruits/               # Devil Fruit database
│   ├── index.json             # Devil Fruits master index
│   ├── Paramecia/             # Body/manipulation fruits
│   │   ├── index.json
│   │   └── [FruitName].json
│   ├── Logia/                 # Elemental fruits
│   │   ├── index.json
│   │   └── [FruitName].json
│   └── Zoan/                  # Animal transformation fruits
│       ├── index.json
│       ├── Regular/           # Standard animals
│       │   ├── index.json
│       │   └── [FruitName].json
│       ├── Ancient/           # Prehistoric animals
│       │   ├── index.json
│       │   └── [FruitName].json
│       └── Mythical/          # Legendary creatures
│           ├── index.json
│           └── [FruitName].json
├── Inventory/                 # Non-weapon items
│   ├── index.json
│   ├── Consumables/           # Healing, buffs, etc.
│   │   ├── index.json
│   │   └── [ItemName].json
│   ├── Materials/             # Crafting materials
│   │   ├── index.json
│   │   └── [MaterialName].json
│   └── KeyItems/              # Quest/story items
│       ├── index.json
│       └── [KeyItemName].json
├── Weapons/                   # All weapon types
│   ├── index.json
│   ├── Swords/
│   │   ├── index.json
│   │   └── [WeaponName].json
│   ├── Guns/
│   │   ├── index.json
│   │   └── [WeaponName].json
│   ├── Staffs/
│   │   ├── index.json
│   │   └── [WeaponName].json
│   ├── Polearms/
│   │   ├── index.json
│   │   └── [WeaponName].json
│   ├── Bows/
│   │   ├── index.json
│   │   └── [WeaponName].json
│   └── Fists/
│       ├── index.json
│       └── [WeaponName].json
├── Islands/                   # World map locations
│   ├── index.json
│   └── [IslandName].json
├── CrewManagement/           # Crew templates
│   ├── index.json
│   └── [CharacterName].json
└── SaveData/                 # Player save files
    ├── index.json
    ├── save_1.json
    ├── save_2.json
    └── ...
```

## Naming Conventions

### Files
- **Devil Fruits**: Use Japanese name - `GomuGomu.json`, `MeraMera.json`
- **Items/Weapons**: Use descriptive English - `HealthPotion.json`, `IronSword.json`
- **Islands**: Use island name - `DawnIsland.json`, `ShellsTown.json`
- **Characters**: Use character name - `FirstMate.json`, `Navigator.json`
- **Save Files**: Use slot system - `save_1.json`, `save_2.json`, `quicksave.json`

### IDs
- Use lowercase with underscores: `gomu_gomu_fruit`, `iron_sword`, `dawn_island`
- Must be unique within their category
- Should be descriptive and permanent (don't change IDs after creation)

## Index Files

Each category and subcategory contains an `index.json` file that serves as:
1. **Registry** - Lists all items in that category
2. **Template** - Provides the structure for new entries
3. **Metadata** - Tracks counts, versions, and category info

### Index File Structure
```json
{
  "category": "CategoryName",
  "version": "1.0.0",
  "last_updated": "YYYY-MM-DD",
  "description": "Category description",
  "items/fruits/weapons": [],
  "total_count": 0,
  "template": { /* structure template */ }
}
```

## Data Entry Workflow

### Adding a New Devil Fruit
1. Navigate to appropriate type folder (Paramecia/Logia/Zoan)
2. If Zoan, choose subtype (Regular/Ancient/Mythical)
3. Copy the template from that folder's `index.json`
4. Create new file: `FruitName.json`
5. Fill in all required fields
6. Add entry reference to the folder's `index.json` items array
7. Update the `total_count` in that index
8. Update parent `DevilFruits/index.json` counts

### Adding a New Weapon
1. Navigate to correct weapon type folder
2. Copy template from that folder's `index.json`
3. Create new file: `WeaponName.json`
4. Fill in stats, requirements, abilities
5. Add reference to folder's `index.json`
6. Update counts in both folder and main `Weapons/index.json`

### Adding a New Island
1. Use template from `Islands/index.json`
2. Create file: `IslandName.json`
3. Define locations, NPCs, shops, quests
4. Add to `Islands/index.json` array
5. Update total count

### Creating a Save File
- Save files are auto-generated by the game
- Use the template in `SaveData/index.json` as structure
- Each save is completely independent
- Named sequentially: `save_1.json`, `save_2.json`, etc.

## Required Fields by Category

### Devil Fruits
- `id`, `name`, `translation`, `description`, `rarity`
- `abilities[]` with at least one starting ability
- `weaknesses[]`, `strengths[]`
- `mastery_bonuses` for progression

### Weapons
- `id`, `name`, `grade`, `description`, `rarity`
- `requirements` (level, stats, skills)
- `stats` (attack, crit chance, etc.)
- `buy_price`, `sell_price`

### Items
- `id`, `name`, `description`, `rarity`
- `effect_type`, `effects[]`
- `buy_price`, `sell_price`
- `stackable`, `max_stack`

### Islands
- `id`, `name`, `sea`, `type`, `description`
- `climate`, `danger_level`
- `locations[]` with at least one location
- `coordinates` (x, y)

### Crew Members
- `id`, `name`, `type`, `class`, `description`
- `recruitment` details
- `starting_stats`, `growth_rates`
- `abilities[]`, `weapon_preferences[]`

## Best Practices

### 1. Consistency
- Always use the provided templates
- Maintain consistent naming conventions
- Use standard field names across similar items

### 2. Balance
- Compare new items to existing ones
- Use rarity tiers appropriately
- Consider progression curve

### 3. Documentation
- Write clear descriptions
- Note special mechanics or interactions
- Include design rationale in comments if needed

### 4. Version Control
- Update `last_updated` date when modifying
- Increment `version` for major changes
- Keep old versions backed up

### 5. Validation
- Ensure all required fields are present
- Check that IDs are unique
- Verify references to other database items are valid

## Integration with Unity

These JSON files will be loaded by Unity scripts:
- `GameDataLoader.cs` - Loads all database files on startup
- `SaveManager.cs` - Handles save/load operations
- Category-specific managers (DevilFruitManager, WeaponManager, etc.)

Data is converted to ScriptableObjects or C# classes for runtime use.

## Future Expansion

As the game grows, consider adding:
- `Enemies/` - Enemy templates and stats
- `Quests/` - Quest definitions
- `Dialogue/` - NPC dialogue trees
- `Skills/` - Non-Devil Fruit abilities
- `Ships/` - Ship types and upgrades
- `Shops/` - Shop inventories

---

**Important**: Always validate JSON syntax before committing changes. Use a JSON validator to catch errors early.

**Last Updated**: 2025-10-11  
**Database Version**: 1.0.0
